--- a/m4/ax_boost_system.m4
+++ b/m4/ax_boost_system.m4
@@ -51,7 +51,7 @@
 	)
 
 	if test "x$want_boost" = "xyes"; then
-        AC_REQUIRE([AC_PROG_CC])
+        AC_REQUIRE([AC_PROG_CXX])
         AC_REQUIRE([AC_CANONICAL_BUILD])
 		CPPFLAGS_SAVED="$CPPFLAGS"
 		CPPFLAGS="$CPPFLAGS $BOOST_CPPFLAGS"
@@ -60,17 +60,17 @@
 		LDFLAGS_SAVED="$LDFLAGS"
 		LDFLAGS="$LDFLAGS $BOOST_LDFLAGS"
 		export LDFLAGS
+		AC_LANG_PUSH([C++])
 
         AC_CACHE_CHECK(whether the Boost::System library is available,
 					   ax_cv_boost_system,
-        [AC_LANG_PUSH([C++])
+        [
 			 CXXFLAGS_SAVE=$CXXFLAGS
 
 			 AC_COMPILE_IFELSE(AC_LANG_PROGRAM([[@%:@include <boost/system/error_code.hpp>]],
                                    [[boost::system::system_category]]),
                    ax_cv_boost_system=yes, ax_cv_boost_system=no)
 			 CXXFLAGS=$CXXFLAGS_SAVE
-             AC_LANG_POP([C++])
 		])
 		if test "x$ax_cv_boost_system" = "xyes"; then
 			AC_SUBST(BOOST_CPPFLAGS)
@@ -78,7 +78,6 @@
 			AC_DEFINE(HAVE_BOOST_SYSTEM,[1],[define if the Boost::System library is available])
             BOOSTLIBDIR=`echo $BOOST_LDFLAGS | sed -e 's/@<:@^\/@:>@*//'`
 
-			LDFLAGS_SAVE=$LDFLAGS
             if test "x$ax_boost_user_system_lib" = "x"; then
                 for libextension in `ls $BOOSTLIBDIR/libboost_system*.{so,dylib,a}* 2>/dev/null | sed 's,.*/,,' | sed -e 's;^lib\(boost_system.*\)\.so.*$;\1;' -e 's;^lib\(boost_system.*\)\.a*$;\1;' -e 's;^lib\(boost_system.*\)\.dylib$;\1;'` ; do
                      ax_lib=${libextension}
@@ -108,6 +107,7 @@
 			fi
 		fi
 
+        AC_LANG_POP([C++])
 		CPPFLAGS="$CPPFLAGS_SAVED"
     	LDFLAGS="$LDFLAGS_SAVED"
 	fi
--- a/m4/ax_boost_python.m4
+++ b/m4/ax_boost_python.m4
@@ -61,11 +61,12 @@
 
 AC_DEFUN([AX_BOOST_PYTHON],
 [AC_REQUIRE([AX_PYTHON_DEVEL])dnl
+AC_REQUIRE([AC_PROG_CXX])
+AC_LANG_SAVE
+AC_LANG_CPLUSPLUS
 AC_CACHE_CHECK(whether the Boost::Python library is available,
 ac_cv_boost_python,
-[AC_LANG_SAVE
- AC_LANG_CPLUSPLUS
- CPPFLAGS_SAVE=$CPPFLAGS
+[CPPFLAGS_SAVE=$CPPFLAGS
  if test "x$PYTHON_CPPFLAGS" != "x"; then
    CPPFLAGS="$PYTHON_CPPFLAGS $CPPFLAGS"
  fi
@@ -75,7 +76,6 @@
  BOOST_PYTHON_MODULE(test) { throw "Boost::Python test."; }]],
  			   [[return 0;]]),
   			   ac_cv_boost_python=yes, ac_cv_boost_python=no)
- AC_LANG_RESTORE
  CPPFLAGS=$CPPFLAGS_SAVE
 ])
 if test "x$ac_cv_boost_python" = "xyes"; then
@@ -100,4 +100,5 @@
   dnl
   AC_SUBST(BOOST_PYTHON_LIB)
 fi
+AC_LANG_RESTORE
 ])dnl
